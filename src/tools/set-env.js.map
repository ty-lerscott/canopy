{"version":3,"sources":["set-env.ts"],"sourcesContent":["import { readFileSync, writeFileSync } from \"node:fs\";\nimport { resolve } from \"node:path\";\nimport { createId } from \"@paralleldrive/cuid2\";\nimport { config } from \"dotenv\";\n\nconst env = config().parsed as Record<string, string>;\n\nconst envPath = resolve(process.cwd(), \".env\");\n\nconst defaultConfig = readFileSync(envPath, \"utf-8\")\n\t.split(\"\\n\")\n\t.reduce(\n\t\t(envVarAcc, line) => {\n\t\t\tconst [envVar] = line.split(\"=\");\n\n\t\t\tenvVarAcc[envVar] =\n\t\t\t\tenvVar === \"ANALYTICS_API_KEY\" ? createId() : env[envVar];\n\n\t\t\treturn envVarAcc;\n\t\t},\n\t\t{} as Record<string, string>,\n\t);\n\nconst asPlainObject = Object.entries(defaultConfig)\n\t.reduce((acc, [key, value]) => {\n\t\tacc.push(`${key}=${value}`);\n\t\treturn acc;\n\t}, [] as string[])\n\t.join(\"\\n\");\n\nwriteFileSync(envPath, asPlainObject, \"utf-8\");\n"],"mappings":"AAAA,OAAS,gBAAAA,EAAc,iBAAAC,MAAqB,KAC5C,OAAS,WAAAC,MAAe,OACxB,OAAS,YAAAC,MAAgB,uBACzB,OAAS,UAAAC,MAAc,SAEvB,IAAMC,EAAMD,EAAO,EAAE,OAEfE,EAAUJ,EAAQ,QAAQ,IAAI,EAAG,MAAM,EAEvCK,EAAgBP,EAAaM,EAAS,OAAO,EACjD,MAAM;AAAA,CAAI,EACV,OACA,CAACE,EAAWC,IAAS,CACpB,GAAM,CAACC,CAAM,EAAID,EAAK,MAAM,GAAG,EAE/B,OAAAD,EAAUE,CAAM,EACfA,IAAW,oBAAsBP,EAAS,EAAIE,EAAIK,CAAM,EAElDF,CACR,EACA,CAAC,CACF,EAEKG,EAAgB,OAAO,QAAQJ,CAAa,EAChD,OAAO,CAACK,EAAK,CAACC,EAAKC,CAAK,KACxBF,EAAI,KAAK,GAAGC,CAAG,IAAIC,CAAK,EAAE,EACnBF,GACL,CAAC,CAAa,EAChB,KAAK;AAAA,CAAI,EAEXX,EAAcK,EAASK,EAAe,OAAO","names":["readFileSync","writeFileSync","resolve","createId","config","env","envPath","defaultConfig","envVarAcc","line","envVar","asPlainObject","acc","key","value"]}