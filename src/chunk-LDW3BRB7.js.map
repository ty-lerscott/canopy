{"version":3,"sources":["api/controllers.ts"],"sourcesContent":["import { DownloadController } from \"@/api/download\";\nimport { GithubController } from \"@/api/github\";\nimport { HTMLController } from \"@/api/html\";\nimport { ImageController } from \"@/api/image\";\nimport type { NextFunction, Request, Response } from \"express\";\n\nconst Controller = async (\n\t{ body, query, originalUrl }: Request,\n\tres: Response,\n\tnext: NextFunction,\n) => {\n\tconst [base, ...pathname] = originalUrl\n\t\t.split(\"?\")[0]\n\t\t.replace(/^\\//, \"\")\n\t\t.split(\"/\");\n\n\tconst props = { body, query, res, next, pathname };\n\n\tswitch (base) {\n\t\tcase \"download\":\n\t\t\tawait DownloadController(props);\n\t\t\tbreak;\n\t\tcase \"image\":\n\t\t\tawait ImageController(props);\n\t\t\tbreak;\n\t\tcase \"html\":\n\t\t\tawait HTMLController(props);\n\t\t\tbreak;\n\t\tcase \"github\":\n\t\t\tawait GithubController(props);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\n\tnext();\n};\n\nexport default Controller;\n"],"mappings":"2JAMA,IAAMA,EAAa,MAClB,CAAE,KAAAC,EAAM,MAAAC,EAAO,YAAAC,CAAY,EAC3BC,EACAC,IACI,CACJ,GAAM,CAACC,EAAM,GAAGC,CAAQ,EAAIJ,EAC1B,MAAM,GAAG,EAAE,CAAC,EACZ,QAAQ,MAAO,EAAE,EACjB,MAAM,GAAG,EAELK,EAAQ,CAAE,KAAAP,EAAM,MAAAC,EAAO,IAAAE,EAAK,KAAAC,EAAM,SAAAE,CAAS,EAEjD,OAAQD,EAAM,CACb,IAAK,WACJ,MAAMG,EAAmBD,CAAK,EAC9B,MACD,IAAK,QACJ,MAAMC,EAAgBD,CAAK,EAC3B,MACD,IAAK,OACJ,MAAMC,EAAeD,CAAK,EAC1B,MACD,IAAK,SACJ,MAAMC,EAAiBD,CAAK,EAC5B,MACD,QACC,KACF,CAEAH,EAAK,CACN,EAEOK,EAAQV","names":["Controller","body","query","originalUrl","res","next","base","pathname","props","controller_default","controllers_default"]}